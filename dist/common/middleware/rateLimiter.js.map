{"version":3,"sources":["../../../src/common/middleware/rateLimiter.ts","../../../src/common/utils/envConfig.ts"],"sourcesContent":["import type { Request } from \"express\";\nimport { rateLimit } from \"express-rate-limit\";\n\nimport { env } from \"@/common/utils/envConfig\";\n\nconst rateLimiter = rateLimit({\n\tlegacyHeaders: true,\n\tlimit: env.COMMON_RATE_LIMIT_MAX_REQUESTS,\n\tmessage: \"Too many requests, please try again later.\",\n\tstandardHeaders: true,\n\twindowMs: 15 * 60 * env.COMMON_RATE_LIMIT_WINDOW_MS,\n\tkeyGenerator: (req: Request) => req.ip as string,\n});\n\nexport default rateLimiter;\n","import dotenv from \"dotenv\";\nimport { cleanEnv, host, num, port, str, testOnly } from \"envalid\";\n\ndotenv.config();\n\nexport const env = cleanEnv(process.env, {\n\tNODE_ENV: str({ devDefault: testOnly(\"test\"), choices: [\"development\", \"production\", \"test\"] }),\n\tHOST: host({ devDefault: testOnly(\"localhost\") }),\n\tPORT: port({ devDefault: testOnly(3000) }),\n\tCORS_ORIGIN: str({ devDefault: testOnly(\"http://localhost:3000\") }),\n\tCOMMON_RATE_LIMIT_MAX_REQUESTS: num({ devDefault: testOnly(1000) }),\n\tCOMMON_RATE_LIMIT_WINDOW_MS: num({ devDefault: testOnly(1000) }),\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gCAA0B;;;ACD1B,oBAAmB;AACnB,qBAAyD;AAEzD,cAAAA,QAAO,OAAO;AAEP,IAAM,UAAM,yBAAS,QAAQ,KAAK;AAAA,EACxC,cAAU,oBAAI,EAAE,gBAAY,yBAAS,MAAM,GAAG,SAAS,CAAC,eAAe,cAAc,MAAM,EAAE,CAAC;AAAA,EAC9F,UAAM,qBAAK,EAAE,gBAAY,yBAAS,WAAW,EAAE,CAAC;AAAA,EAChD,UAAM,qBAAK,EAAE,gBAAY,yBAAS,GAAI,EAAE,CAAC;AAAA,EACzC,iBAAa,oBAAI,EAAE,gBAAY,yBAAS,uBAAuB,EAAE,CAAC;AAAA,EAClE,oCAAgC,oBAAI,EAAE,gBAAY,yBAAS,GAAI,EAAE,CAAC;AAAA,EAClE,iCAA6B,oBAAI,EAAE,gBAAY,yBAAS,GAAI,EAAE,CAAC;AAChE,CAAC;;;ADPD,IAAM,kBAAc,qCAAU;AAAA,EAC7B,eAAe;AAAA,EACf,OAAO,IAAI;AAAA,EACX,SAAS;AAAA,EACT,iBAAiB;AAAA,EACjB,UAAU,KAAK,KAAK,IAAI;AAAA,EACxB,cAAc,CAAC,QAAiB,IAAI;AACrC,CAAC;AAED,IAAO,sBAAQ;","names":["dotenv"]}